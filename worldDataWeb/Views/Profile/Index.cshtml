
@{
}
<script>var chartId = @ViewBag.chartId;</script>
<div ng-app="worldData">
        <div ng-controller="profileCtrl">
            <div class="panel panel-default">
                <div ng-cloak ng-show="Step == 1">
                    <div ng-cloak ng-hide="chartExists" class="panel-body text-center">
                        <h2>Looks like you haven't created a chart yet.</h2>
                        <br />
                        <button class="btn btn-lg btn-primary" ng-click="GetCountries()">Let's Get Started</button>
                        <br />
                    </div>
                    <div ng-cloak ng-show="chartExists">
                        <div class="panel-heading"><h3>Populations By City</h3></div>
                        <div class="panel-body row">
                            <div class="col-md-6" style="height: 300px" google-chart chart="chartObject" ng-if="chartObject"></div>
                            <div class="col-md-4">
                                <table class="table table-hover">
                                    <tbody>
                                        <tr ng-repeat="chartItem in chart">
                                            <td>{{chartItem.Name}}</td>
                                            <td><button class="btn btn-danger" ng-click="Remove(chartItem.CityId, $index)">Remove</button></td>
                                            <td><button class="btn btn-success" ng-if="$index != 0" ng-click="MoveUp(chartItem.CityId, $index)">Move Up</button></td>
                                            <td><button class="btn btn-success" ng-if="$index != chart.length-1" ng-click="MoveDown(chartItem.CityId, $index)">Move Down</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <button class="btn btn-info" ng-click="GetCountries()">Add New City</button>
                            </div> 
                        </div>
                    </div>
                </div>
                    <div ng-cloak ng-show="Step == 2">
                        <div class="panel-heading"><h3>Choose A Country</h3></div>
                        <div class="panel-body row">
                            <div class="col-md-3" ng-repeat="Country in Countries">
                                <div class="text-small" ng-click="GetCitiesinCountry(Country.$id)">{{Country.Name}}</div>
                            </div>
                        </div>
                        <div class="panel-footer">
                            <button class="btn btn-primary" ng-click="GoBack()"><- Go Back</button>
                        </div>
                    </div>
                    <div ng-cloak ng-show="Step == 3">
                        <div class="panel-heading"><h3>Choose A City</h3></div>
                        <div class="panel-body">
                            <div class="col-md-3" ng-repeat="City in Cities">
                                <div class="text-small" ng-click="AddCityToChart(City)">{{City.Name}}</div>
                            </div>
                            <br />
                        </div>
                        <div class="panel-footer">
                            <button class="btn btn-primary" ng-click="GoBack()"><-Go Back</button>
                        </div>
                    </div>
                    <div ng-cloak ng-show="Step == 4">
                        <div class="panel-heading"><h3>Edit You Chart</h3></div>
                        <div class="panel-body">
                            <table class="table table-hover col-md-10" >
                                <tbody>
                                    <tr ng-repeat="chartItem in chart">
                                        <td><h4>{{chartItem.Name}}</h4></td>
                                        <td><button class="btn btn-danger" ng-click="Remove(chartItem.CityId, $index)">Remove</button></td>
                                        <td><button class="btn btn-success" ng-if="$index != 0" ng-click="MoveUp(chartItem.CityId, $index)">Move Up</button></td>
                                        <td><button class="btn btn-success" ng-if="$index != chart.length-1" ng-click="MoveDown(chartItem.CityId, $index)">Move Down</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    <div class="panel-footer">
                        <button class="btn btn-primary" ng-click="BackToChart()"><- Back</button>
                    </div>
                </div>
        </div>
</div>